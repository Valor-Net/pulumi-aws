{
    "defaults": {
        "ecs": {
            "cpu": 256,
            "memory": 512,
            "env": {
                "NODE_ENV": "staging",
                "LOG_LEVEL": "info"
            }
        },
        "http": {
            "port": 9000,
            "healthPath": "/health",
            "tech": "laravel",
            "policies": ["bundle:laravel-full"]
        },
        "frontend": {
            "port": 3000,
            "healthPath": "/api/health",
            "tech": "nextjs",
            "policies": ["bundle:nextjs-min"]
        },
        "worker": {
            "policies": ["bundle:laravel-full"]
        },
        "lambda": {
            "policies": ["bundle:laravel-full"],
            "triggeredBy": ["s3"]
        }
    },
    "services": {
        "http": {
            "auth-service": {
                "imageTag": "latest",
                "path": "auth",
                "nginxSidecar": true
            },
            "users-service": {
                "imageTag": "latest",
                "path": "users",
                "nginxSidecar": true
            },
            "brain-games-service": {
                "imageTag": "latest",
                "path": "brain-games",
                "nginxSidecar": true
            },
            "books-service": {
                "imageTag": "latest",
                "path": "books",
                "nginxSidecar": true
            },
            "nutritional-service":{
                "imageTag": "latest",
                "path": "nutritional",
                "nginxSidecar": true
            },
            "resource-center-service": {
                "imageTag": "latest",
                "path": "resource-center",
                "nginxSidecar": true
            },
            "relaxing-sounds-service": {
                "imageTag": "latest",
                "path": "relaxing-sounds",
                "nginxSidecar": true
            },
            "spiritual-service": {
                "imageTag": "latest",
                "path": "spiritual",
                "nginxSidecar": true
            },
            "mental-service": {
                "imageTag": "latest",
                "path": "mental",
                "nginxSidecar": true
            },
            "specialty-care-service": {
                "imageTag": "latest",
                "path": "specialty-care",
                "nginxSidecar": true
            },
            "landing-pages-service": {
                "imageTag": "latest",
                "path": "landing-pages",
                "nginxSidecar": true
            },
            "podcasts-service": {
                "imageTag": "latest",
                "path": "podcasts",
                "nginxSidecar": true
            },
            "workouts-service": {
                "imageTag": "latest",
                "path": "workouts",
                "nginxSidecar": true
            },
            "videos-service": {
                "imageTag": "latest",
                "path": "videos",
                "nginxSidecar": true
            },
            "sleep-service": {
                "imageTag": "latest",
                "path": "sleep",
                "nginxSidecar": true
            },
            "readiness-contents-service":{
                "imageTag": "latest",
                "path": "readiness-contents",
                "nginxSidecar": true
            },
            "chat-service": {
                "imageTag": "latest",
                "path": "chat",
                "nginxSidecar": true
            },
            "classes-service": {
                "imageTag": "latest",
                "path": "classes",
                "nginxSidecar": true
            },
            "call-request-service": {
                "imageTag": "latest",
                "path": "call-request",
                "nginxSidecar": true
            },
            "telemedicine-service": {
                "imageTag": "latest",
                "path": "telemedicine",
                "nginxSidecar": true
            },
            "events-service": {
                "imageTag": "latest",
                "path": "events",
                "nginxSidecar": true
            },
            "group-challenges-service": {
                "imageTag": "latest",
                "path": "group-challenges",
                "nginxSidecar": true
            },
            "run-walking-service": {
                "imageTag": "latest",
                "path": "run-walking",
                "nginxSidecar": true
            },
            "pro-trainer-workouts-service": {
                "imageTag": "latest",
                "path": "pro-trainer-workouts",
                "nginxSidecar": true
            },
            "user-records-service": {
                "imageTag": "latest",
                "path": "user-records",
                "nginxSidecar": true
            }
        },
        "worker": {
            "notifications-service": {
                "imageTag": "latest",
                "command": ["php", "artisan", "queue:work", "raw_sqs", "--sleep=3", "--daemon", "--max-jobs=1000", "--max-time=3600"]
            },
            "pdf-generator-service": {
                "imageTag": "latest",
                "command": ["php", "artisan", "queue:work", "raw_sqs", "--sleep=3", "--daemon", "--max-jobs=2000", "--max-time=7200"]
            },
            "email-service": {
                "imageTag": "latest",
                "command": ["php", "artisan", "queue:work", "raw_sqs", "--sleep=3", "--daemon", "--max-jobs=1000", "--max-time=3600"]
            }
        },
        "lambda": {
            "file-processor-service": {
                "imageTag": "latest"
            }
        },
        "frontend": {   
            "admin": {
                "imageTag": "latest"
            }
        }
    }
  }